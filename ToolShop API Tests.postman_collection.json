{
	"info": {
		"_postman_id": "8fd4cb32-4771-4f90-8e48-d4f1eeb816a5",
		"name": "ToolShop API Tests",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "7520525"
	},
	"item": [
		{
			"name": "Products",
			"item": [
				{
					"name": "[GET] List the product by name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Status code é 200 OK\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Validate list the product by name\", function () {\r",
									"    if (pm.response.code === 200) {\r",
									"        //Checking if my arry has at least one element\r",
									"        pm.expect(jsonData.data).to.be.an('array').with.lengthOf.at.least(1);\r",
									"        // Accessing the first object inside the array\r",
									"        const product = jsonData.data[0];\r",
									"        pm.expect(product.id).to.eql('01K8ESKMA594Z8H9D5V4542EW9');\r",
									"        pm.expect(product.name).to.eql('Thor Hammer');\r",
									"        pm.expect(product.description).to.eql('Donec malesuada tempus purus. Integer sit amet arcu magna. Sed vel laoreet ligula, non sollicitudin ex. Mauris euismod ac dolor venenatis lobortis. Aliquam iaculis at diam nec accumsan. Ut sodales sed elit et imperdiet. Maecenas vitae molestie mauris. Integer quis placerat libero, in finibus diam. Interdum et malesuada fames ac ante ipsum primis in faucibus.');\r",
									"        pm.expect(product.price).to.eql(11.14);\r",
									"    } else {\r",
									"        console.warn(\"Json not validate because the status code expected failed.\");\r",
									"    }\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.variables.set(\"_productName\", \"Thor hammer\");"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseURL}}/products/search?q={{_productName}}",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"products",
								"search"
							],
							"query": [
								{
									"key": "q",
									"value": "{{_productName}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Cart",
			"item": [
				{
					"name": "[POST] Add a product to the carr by id",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.variables.set(\"_productId\", \"01k8erffhwmbdyv1m3rp12ky31\");\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"const jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Status code é 201 OK\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"id\": \"{{_productId}}\" \r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/carts",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"carts"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseURL",
			"value": "",
			"type": "default"
		}
	]
}